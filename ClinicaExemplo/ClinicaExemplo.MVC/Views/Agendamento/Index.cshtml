@model IEnumerable<ClinicaExemplo.MVC.ViewModels.AgendamentoViewModel>

@{
    ViewBag.Title = "Index";
}

<h2>Agendamento de Consultas</h2>

<div>
    <div id="carregaDropDown"></div>
    <button id="carregarProf" class="botao">Pesquisar Profissionais</button>
</div>

<div id="carregaProfissional"></div>

@section scripts {
    <script>

        $(document).ready(function () {

            $.ajax({
                type: "GET",
                url: "/Agendamento/ObterEspecialidade/",
                contentType: 'html',
                success: function (response) {
                    $("#carregaDropDown").children().remove();
                    $("#carregaDropDown").html(response); // HTML retornado do Controller
                },
                error: function (errorData) {
                    console.log(errorData);
                }
            });

            $("#carregaDropDown").change(function () {
                alert($("#carregaDropDown option:selected").val());
                var especid = $("#carregaDropDown option:selected", this).val();
            });

            $('#carregarProf').click(function () {

                //$("#carregaDropDown").change(function () {
                //    var especid = $("option:selected", this).val();
                //});

                var especid = $("#carregaDropDown option:selected", this).val();

                $.ajax({
                    type: "GET",
                    url: "/Agendamento/ObterProfissional/",
                    contentType: 'html',
                    success: function (response) {

                        $("#carregaProfissional").children().remove();
                        $("#carregaProfissional").html(response); // HTML retornado do Controller
                    },
                    error: function (errorData) {
                        console.log(errorData);
                    }
                });
            });

        });

    </script>
}

@*<table class="table">

        <tr>
            <th>
                @Html.DisplayNameFor(model => model.AgendamentoId)
            </th>
            <th        $('#carregarScript').click(function () {
        let parametro = 111;

        $.ajax({
            type: "GET",
            url: "/Home/ObterDropDrown/",
            contentType: 'html',
            success: function (response) {
                $("#carregaDropDown").children().remove();
                $("#carregaDropDown").html(response); // HTML retornado do Controller
            },
            error: function (errorData) {
                console.log(errorData);
            }
        });
    });
                @Html.DisplayNameFor(model => model.PacienteId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EspecialidadeId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProfessionalId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Nome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CPF)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SourceId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Nascimento)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DataAgendamento)
            </th>
            <th></th>
        </tr>

    @foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.AgendamentoId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PacienteId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EspecialidadeId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ProfessionalId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Nome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CPF)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SourceId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Nascimento)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DataAgendamento)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new {  id=item.AgendamentoId  }) |
                @Html.ActionLink("Details", "Details", new {  id=item.AgendamentoId }) |
                @Html.ActionLink("Delete", "Delete", new {  id=item.AgendamentoId })
            </td>
        </tr>
    }

    </table>*@
